<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Font Link -->
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

   <style>
        body {
            font-family: 'Indie Flower', cursive;
            background-color: grey;
            background-image: url(https://unsplash.it/g/1920/?blur);
            background-size: cover;
            margin: 0;
            padding: 80px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #content-wrapper {
            user-select: none;
            width: 800px;
            height: 1000px;
            margin: 0;
            padding: 2rem;
            background-color: khaki;
            background-image: url('./src/grunge-wall-texture.jpg');
            background-size: cover;
            background-blend-mode: multiply;
            border-radius: .2rem;
            box-shadow: 0px 10px 30px 0px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden; /* Ensure .pageflip doesn't overflow */
        }

        h1 {
            font-size: 3rem;
            text-align: center;
            color: white;
        }

        #content {
            font-family: 'Indie Flower', cursive;
            margin: 0 auto;
            width: 90%;
            color: #575757;
            clear: both;
            padding-top: 20px;
        }

        p {
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .polaroid {
            width: 150px;
            padding: 10px;
            background: white;
            box-shadow: 0px 10px 30px 0px rgba(0, 0, 0, 0.3);
            position: absolute;
            text-align: center;
            font-size: 0.9rem;
            color: #333;
            z-index: 10;
        }

        .polaroid img {
            width: 100%;
            height: auto;
            margin-bottom: 5px;
        }

        #polaroid1 {
            top: 50px;
            left: 50px;
            transform: rotate(-10deg);
        }

        #polaroid2 {
            top: 300px;
            right: 50px;
            transform: rotate(5deg);
        }

        #polaroid3 {
            bottom: 50px;
            left: 380px;
            transform: rotate(-5deg);
        }

        /* Mobile view adjustments */
        @media (max-width: 768px) {
            #content-wrapper {
                width: 100vw; /* Set width to 100% of the viewport width */
                height: 100vh; /* Set height to 100% of the viewport height */
                transform: scale(1); /* Scale down the entire wrapper */
                transform-origin: top left; /* Keep the scaling consistent from the top-left corner */
            }

            .polaroid {
                width: 80px; /* Adjust the size for mobile view */
                height: 110px;
                padding: 8px; /* Adjust padding for mobile view */
                font-size: 0.5rem; /* Adjust font size for mobile view */
            }

            #polaroid1 {
                top: 110px;
                left: 50px;
                transform: rotate(-10deg);
            }

            #polaroid2 {
                top: 300px;
                right: 50px;
                transform: rotate(5deg);
            }

            #polaroid3 {
                bottom: 100px;
                left: 250px;
                transform: rotate(-5deg);
            }

            body {
                padding: 0;
                overflow-x: scroll; /* Enable horizontal scrolling if needed */
            }
        }

        .curly-strike {
            position: relative;
            display: inline-block;
        }

        .curly-strike::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            border-top: 2px solid #575757;
            transform: rotate(-10deg);
            transform-origin: center;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCAxMDAgNDAiPjxwYXRoIGQ9Ik0wIDBoMTAwdi00MEgweiIvPjwvc3ZnPg==') no-repeat;
            background-size: 100% 100%;
            background-position: center center;
            z-index: 1;
        }

        .curly-strike span {
            position: relative;
            z-index: 2;
        }

        /* Page flip effect */
        .pageflip {
            display: none; /* Hide the pageflip by default */
            position: absolute;
            z-index: 1;
            width: 0;
            height: 0;
            bottom: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
            border-top-left-radius: .2rem; /* Top-left corner */
            transition: all 0.3s;
        }

        .pageflip.show {
            display: block; /* Show pageflip when class 'show' is added */
            width: 80px;
            height: 80px;
            box-shadow: -5px -5px 40px rgba(0,0,0,1);
            background: rgba(255, 255, 255, 0.3); /* More transparent on hover */
            transform: scale(1.5); /* Scale up the pageflip for animation */
        }

        /* Animation effect */
        .pageflip-animate {
            animation: flipAnimation 0.5s forwards;
        }
        .pageflipclose-animate {
            animation: flipcloseAnimation 0.5s forwards;
        }

        @keyframes flipAnimation {
            0% {
                width: 0;
                height: 0;
                transform: scale(0.5);
            }
            100% {
                width: 80px;
                height: 80px;
                transform: scale(1.5);
            }
        }
        @keyframes flipcloseAnimation {
            0% {
                width: 80px;
                height: 80px;
                transform: scale(1.5);
            }
            100% {
                width: 0;
                height: 0;
                transform: scale(0.5);
            }
        }
    </style>
</head>
<body>
    <div id="content-wrapper">
        <h1>Febin T Rajeev</h1>
        <div id="content">
            <p>
                &emsp;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ullamcorper dolor sem, at venenatis ligula tempus sed...
            </p>
            <p>
                &emsp;Duis vulputate, massa vitae interdum commodo, ante tortor viverra sem, nec suscipit massa elit tempus leo...
            </p>
            <p>
                &emsp;Vestibulum in augue varius orci condimentum ultricies eu in neque. Etiam vitae luctus lectus, in posuere arcu...
            </p>
            <!-- New paragraph with crossed-out text -->
            <p>
                &emsp;Here is a <span class="curly-strike">crossed-out</span> word example. You can <del>remove</del> or <del>modify</del> text as needed.
            </p>
        </div>
        <div class="polaroid" id="polaroid1">
            <img src="https://unsplash.it/200/200?image=0" alt="Photo 1">
            <p>Caption 1</p>
        </div>
        <div class="polaroid" id="polaroid2">
            <img src="https://unsplash.it/200/200?image=1" alt="Photo 2">
            <p>Caption 2</p>
        </div>
        <div class="polaroid" id="polaroid3">
            <img src="https://unsplash.it/200/200?image=2" alt="Photo 3">
            <p>Caption 3</p>
        </div>
        <div class="pageflip" id="pageflip"></div>
    </div>

    <script>

interact('.polaroid')
            .draggable({
                listeners: {
                    move(event) {
                        var target = event.target;
                        var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
                        var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

                        target.style.transform = `translate(${x}px, ${y}px)`;

                        target.setAttribute('data-x', x);
                        target.setAttribute('data-y', y);
                    }
                }
            });

        document.addEventListener('DOMContentLoaded', function() {
            const pageflip = document.getElementById('pageflip');
            const contentWrapper = document.getElementById('content-wrapper');

            // Function to hide pageflip with closing animation
            function hidePageflip() {
                // Add the closing animation class
                pageflip.classList.add('pageflipclose-animate');
                
                // Remove the animation class after animation ends to reset for future clicks
                pageflip.addEventListener('animationend', function() {
                    pageflip.classList.remove('pageflipclose-animate', 'show');
                }, { once: true });
            }

            contentWrapper.addEventListener('click', function(event) {
                // Check if click is within the bottom-right corner of the content-wrapper
                const rect = contentWrapper.getBoundingClientRect();
                const isClickInBottomRight = (
                    event.clientX >= rect.right - 80 &&
                    event.clientY >= rect.bottom - 80
                );

                if (isClickInBottomRight) {
                    // Show pageflip with animation
                    pageflip.classList.add('show', 'pageflip-animate');

                    // Remove the animation class after animation ends to reset for future clicks
                    pageflip.addEventListener('animationend', function() {
                        pageflip.classList.remove('pageflip-animate');
                    }, { once: true });
                } else {
                    hidePageflip(); // Hide pageflip if clicked outside the bottom-right corner
                }
            });

            // Hide pageflip when clicking anywhere outside the content-wrapper
            document.addEventListener('click', function(event) {
                if (!contentWrapper.contains(event.target) && !pageflip.contains(event.target)) {
                    hidePageflip();
                }
            });
        });
    </script>
</body>
</html>
